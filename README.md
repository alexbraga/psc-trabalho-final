<h1 align="center">
  Sistema de Doações
</h1>

<h3 align="center">
    Trabalho final da disciplina de Programação de Soluções Computacionais
</h3>

<p align="center">
  <a href="https://github.com/alexbraga/psc-trabalho-final/commits/master"><img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/alexbraga/psc-trabalho-final"></a>
  <a href="https://github.com/alexbraga/psc-trabalho-final/blob/master/LICENSE"><img alt="License" src="https://img.shields.io/github/license/alexbraga/psc-trabalho-final"></a>
</p>

<h4 align="center">
	 Status: Concluído
</h4>

<p align="center">
 <a href="#sobre">Sobre</a> •
 <a href="#conteúdo">Conteúdo</a> •
 <a href="#instruções-da-atividade">Instruções da Atividade</a> •
 <a href="#requisitos-funcionais">Requisitos Funcionais</a> •
 <a href="#crítica-à-ia">Crítica à IA</a> •
 <a href="#diagrama-de-classes-descrição">Diagrama de Classes</a> •
 <a href="#unidade-curricular">Unidade Curricular</a> •
 <a href="#autor">Autor</a> •
 <a href="#licença">Licença</a>
</p>

## Sobre

<p align="justify">
  Esta atividade, realizada para a disciplina de Programação de Soluções Computacionais, visa articular os conhecimentos trabalhados ao longo do semestre, contribuindo para a fixação dos conceitos. Além disso, o trabalho inclui um uso consciente e produtivo de IAs generativas, apresentando possibilidades de uso e auxílio desses softwares no ofício de desenvolvimento de sistemas.
</p>

---

## Conteúdo

O conteúdo do trabalho abrange os seguintes tópicos:

- Programação em sequência
- Condicional
- Repetição
- Arrays
- Fundamentos de OOP
- Tratamento de exceção
- Manipulação de arquivos e persistência

---

## Instruções da Atividade

1. **Proposta de Problema**: o trabalho deve começar com a proposta de um problema que possa ser resolvido com a programação. Uma sugestão seria a criação de um sistema de gerenciamento de doações. Este sistema seria projetado para ajudar as vítimas de uma enchente no Rio Grande do Sul. O sistema deve ser capaz de realizar as seguintes funções:

   - **Receber Doações**: o sistema deve ter uma tela com entradas onde os doadores possam informar os detalhes da doação, como o tipo de doação (dinheiro, alimentos, roupas, etc.), a quantidade e a data da doação.

   - **Calcular Total de Doações**: o sistema deve ser capaz de calcular o total de doações recebidas. Deve haver uma função que some todas as doações e apresente o total em uma interface fácil de entender.

   - **Armazenar Informações de Doações**: todas as informações sobre as doações devem ser armazenadas em um banco de dados ou arquivo texto. Isso permitirá que as informações sejam recuperadas e analisadas posteriormente.

   A implementação deste sistema permitirá que os estudantes apliquem os conhecimentos adquiridos na disciplina de Programação de Soluções Computacionais e também contribuirá para uma causa social importante. Além disso, o uso de uma IA Generativa no processo de desenvolvimento do sistema permitirá que os estudantes explorem as possibilidades de uso desses softwares no desenvolvimento de sistemas.

2. **Requisitos Funcionais**: após a definição do problema, o estudante deve utilizar uma IA Generativa para ajudar a dividir o problema em requisitos funcionais. Isso significa que o estudante deve submeter o texto do enunciado à IA e solicitar que ela identifique e liste as funcionalidades que o sistema deve ter para resolver o problema proposto.

3. **Crítica à IA**: em seguida, o estudante deve analisar criticamente as sugestões da IA. Isso envolve escrever uma crítica sobre a eficácia da IA em identificar os requisitos funcionais, citando os livros sugeridos na bibliografia do curso para embasar sua análise.

4. **Diagrama de Classes**: o próximo passo é a descrição textual do diagrama de classes do sistema. O estudante deve descrever em linguagem natural as classes, propriedades e métodos que compõem o sistema, explicando como eles se relacionam para resolver o problema. O trabalho deve fornecer um exemplo de descrição de diagrama de classes para orientar o estudante.

5. **Estratégia de Programação com IA**: o trabalho deve apresentar ao estudante algumas estratégias de programação com IAs. Por exemplo, o estudante pode ser incentivado a escrever um código e solicitar a revisão da IA, ou a estudar os temas do trabalho com o auxílio da IA, solicitando exercícios para praticar os temas. Outra estratégia seria a programação por pares, onde o estudante programa em conjunto com a IA.

6. **Codificação do Programa**: por fim, o estudante deve codificar o programa que resolve o problema proposto, utilizando uma das estratégias discutidas no passo 5. O código deve ser escrito na linguagem escolhida pelo estudante (C# ou Java) e deve implementar os requisitos funcionais identificados no passo 2.

---

## Requisitos Funcionais

1. **Interface de Usuário:** o sistema deve ter uma interface de usuário amigável para permitir que os doadores insiram detalhes sobre suas doações. Esta interface deve incluir campos para o tipo de doação, quantidade e data da doação.

2. **Função de Recebimento de Doações:** o sistema deve ter uma função que permita o recebimento de doações. Esta função deve conseguir validar as entradas do usuário e armazenar as informações da doação.

3. **Função de Cálculo de Total de Doações:** o sistema deve ter uma função que calcule o total de doações recebidas. Esta função deve conseguir somar todas as doações e apresentar o total de uma maneira fácil de entender.

4. **Função de Armazenamento de Informações de Doações:** o sistema deve ter uma função que armazene todas as informações de doações em um banco de dados ou arquivo de texto. Esta função deve conseguir recuperar e analisar as informações posteriormente.

5. **Função de Visualização de Doações:** o sistema deve ter uma função que permita aos usuários visualizar todas as doações feitas. Esta função deve conseguir exibir as informações de doação de uma maneira fácil de entender.

---

## Crítica à IA

<p align="justify">
  A utilização da ferramenta de IA generativa para a identificação dos requisitos funcionais não apresentou grande melhoria em relação ao texto do enunciado da atividade. O prompt inicial contou com uma breve contexualização, seguido do enunciado e, por fim, um pedido específico:
</p>

> Considere o seguinte enunciado para o projeto final de uma disciplina do curso de Ciência da Computação:
>
> [texto do enunciado]
>
> Com base no enunciado acima, divida o problema em requisitos funcionais e liste todas as funcionalidades que o sistema deve ter de forma detalhada, sem apenas repetir as funções já listadas.

<p align="justify">
  Apesar da solicitação específica acima, a IA praticamente apenas escreveu com outras palavras o que já havia sido informado no enunciado, limitando-se a extrair somente 2 novos requisitos, implícitos no texto original. Houve uma falha em não identificar outras funcionalidades básicas do sistema, como a capacidade de editar ou excluir doações e buscar doações específicas, por exemplo.
</p>

---

## Diagrama de Classes (descrição)

1. `Donation`: esta é a classe base para todas as doações. Ela é uma classe abstrata que define propriedades comuns a todas as doações, como `amount` e `date`.

2. `FoodDonation`, `MoneyDonation`, `ClothesDonation`: Estas são subclasses concretas de `Donation`. Cada uma representa um tipo específico de doação.

3. `DonationDAO`: interface que define os métodos que um DAO (Data Access Object) para doações deve implementar. Os métodos incluem `addDonation`, `getAllDonations`, `getDonationById`, `updateDonation` e `deleteDonation`.

4. `DonationDAOImpl`: implementação concreta da interface DonationDAO. Ela implementa os métodos definidos na interface `DonationDAO` para interagir com um banco de dados usando o EntityManager.

5. `EntityManagerFactoryProvider`: interface que define os métodos que um provedor de EntityManagerFactory deve implementar. O método inclui `getEntityManagerFactory`.

6. `MariaDBEntityManagerFactoryProvider`: implementação concreta da interface `EntityManagerFactoryProvider`. Ela implementa o método definido na interface para criar uma EntityManagerFactory para um banco de dados MariaDB.

7. `DonationService`: classe responsável pelas regras de negócio relacionados a doações. Ela utiliza uma instância de `DonationDAO` para interagir com o banco de dados. Possui métodos como `addDonation`, `getAllDonations`, `getDonationById`, `updateDonation` e `deleteDonation`, que delegarão as operações para o `DonationDAO`.

8. `DonationController`: esta é uma classe que manipula as solicitações relacionadas a doações. Ela faz uso uma instância de `DonationService` para realizar as operações necessárias e retornará as respostas apropriadas.

9. `ConsoleInterface`: esta é uma classe que interage com o usuário através do console. Ela faz uso de uma instância de `DonationController` para realizar as operações necessárias e exibir as respostas apropriadas.

Relações:

- `FoodDonation`, `MoneyDonation` e `ClothesDonation` são subclasses de `Donation`.

- `DonationDAOImpl` implementa `DonationDAO`.

- `MariaDBEntityManagerFactoryProvider` implementa `EntityManagerFactoryProvider`.

- `DonationDAOImpl` tem uma relação de dependência com `EntityManagerFactoryProvider`.

- `DonationService` tem uma relação de dependência com `DonationDAO`.

- `DonationController` tem uma relação de dependência com `DonationService`.

- `ConsoleInterface` tem uma relação de dependência com `DonationController`.

---

## Como Funciona

1. <a href="#1-pré-requisitos">Pré-requisitos</a>
2. <a href="#2-clonando-o-repositório">Clonando o repositório</a>
3. <a href="#3-configurando-o-hibernate">Configurando o Hibernate</a>
4. <a href="#4-executando-a-aplicação">Executando a aplicação</a>

### 1. Pré-requisitos

Antes de começar, você precisará ter as seguintes ferramentas instaladas em seu sistema:

- [Git](https://git-scm.com)
- [Java JDK 22 ou superior](https://www.oracle.com/java/technologies/downloads/)
- [Maven](https://maven.apache.org/)
- [MariaDB](https://mariadb.org/)

Além disso, você talvez deseje utilizar uma IDE para trabalhar com o código, tal como o
[IntelliJ IDEA](https://www.jetbrains.com/idea/).

Você também deverá criar um novo banco de dados. A forma mais fácil de fazer isso é através de um software, como o [DBeaver](https://dbeaver.io/):

1.  Após a instalação, [conecte-se ao banco de dados](https://dbeaver.com/docs/dbeaver/Create-Connection/)

2.  Em seguida, clique com o botão direito em "Databases" -> "Create New Database"

### 2. Clonando o repositório

Abra uma janela do terminal e execute o seguinte comando

```
git clone https://github.com/alexbraga/psc-trabalho-final.git
```

### 3. Configurando o Hibernate

Leia atentamente as instruções a seguir até o fim antes de continuar:

Navegue até o diretório `resources`

```
cd psc-trabalho-final/src/main/resources
```

> [!WARNING]
> Usuários do Windows devem utilizar `cd psc-trabalho-final\src\main\resources`

Crie o diretório `META-INF`

```
mkdir META-INF
```

Crie o arquivo `persistence.xml`

```
touch persistence.xml
```

> [!WARNING]
> Windows: `type nul > persistence.xml`

- Caso prefira, utilize o gerenciador de arquivos do seu sistema ou a IDE de sua preferência para a criação da pasta e do arquivo citados acima

Em seguida, abra o arquivo e adicione as configurações a seguir:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.2"
             xmlns="http://xmlns.jcp.org/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence
             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd">
    <persistence-unit name="mariadbPU">
        <provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
        <properties>
            <property name="javax.persistence.jdbc.driver" value="org.mariadb.jdbc.Driver"/>
            <property name="javax.persistence.jdbc.url" value="jdbc:mariadb://localhost:3306/myDB"/>
            <property name="javax.persistence.jdbc.user" value=""/>
            <property name="javax.persistence.jdbc.password" value=""/>

            <!-- Configurações do Hibernate -->
            <property name="hibernate.dialect" value="org.hibernate.dialect.MariaDBDialect"/>
            <property name="hibernate.show_sql" value="false"/>
            <property name="hibernate.hbm2ddl.auto" value="update"/>
        </properties>
    </persistence-unit>
</persistence>
```

> [!WARNING]
>
> 1. Na propriedade `javax.persistence.jdbc.url`, você deve substituir `myDB` pelo nome do banco de dados criado no seu sistema.
> 2. Insira os valores adequados para `javax.persistence.jdbc.user` e `javax.persistence.jdbc.password`, de acordo com as configurações do seu banco de dados.

### 4. Executando a aplicação

Navegue até a raiz do projeto

```
cd psc-trabalho-final
```

Compile o código

```
mvn compile
```

Execute a aplicação

```
java -cp target/classes org.example.Main
```

> [!WARNING]
> Para executar a aplicação no Windows, use `java -cp target\classes org.example.Main`

- Alternativamente, abra `psc-trabalho-final` com sua IDE de preferência e execute `Main.java`

---

## Unidade Curricular

### Programação de Soluções Computacionais

- #### Centro Universitário de Belo Horizonte (UniBH)

#### Professores

- Alexandre "Montanha" de Oliveira
- Flávio Henrique Batista de Souza

---

## Autor

<h4>Alexandre Braga</h4>

<div>
<a href="https://www.linkedin.com/in/alexgbraga/" target="_blank"><img src="https://img.shields.io/badge/-LinkedIn-blue?style=for-the-badge&logo=Linkedin&logoColor=white" alt="LinkedIn"></a>&nbsp;
<a href="mailto:contato@alexbraga.com.br" target="_blank"><img src="https://img.shields.io/badge/-email-c14438?style=for-the-badge&logo=Gmail&logoColor=white" alt="E-Mail"></a>
</div>

---

## Licença

Este projeto encontra-se sob a licença [MIT](./LICENSE)
